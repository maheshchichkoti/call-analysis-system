# =============================================================================
# Call Analysis System - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your values

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
ENVIRONMENT=development
LOG_LEVEL=INFO

# -----------------------------------------------------------------------------
# Supabase Database (PRIMARY)
# -----------------------------------------------------------------------------
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_KEY=your-supabase-anon-key

# -----------------------------------------------------------------------------
# Transcription - AssemblyAI
# -----------------------------------------------------------------------------
ASSEMBLYAI_API_KEY=your-assemblyai-api-key

# -----------------------------------------------------------------------------
# AI Analysis - Google Gemini
# -----------------------------------------------------------------------------
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-1.5-flash

# The analysis prompt is configurable. Use this default or customize.
# Amit will provide the final production prompt.
GEMINI_CALL_ANALYSIS_PROMPT=You are an expert call quality analyst. Analyze the following call transcript and provide a JSON response with:
- overall_score: Rating from 1 (poor) to 5 (excellent) based on agent professionalism, problem resolution, and customer handling
- has_warning: Boolean indicating if the call has any concerning issues
- warning_reasons: Array of warning tags like "rude_behavior", "unresolved_issue", "customer_complaint", "long_hold_time", "policy_violation"
- short_summary: Brief 1-2 sentence summary of the call in English
- customer_sentiment: One of "positive", "neutral", or "negative"
- department: Detected department like "support", "sales", "billing", etc.

Return ONLY valid JSON, no additional text.

# -----------------------------------------------------------------------------
# Email Alerts - Resend
# -----------------------------------------------------------------------------
RESEND_API_KEY=your-resend-api-key
RESEND_FROM_EMAIL=alerts@yourdomain.com
CALL_ALERT_TARGET_EMAIL=manager@yourcompany.com

# -----------------------------------------------------------------------------
# Zoom Integration (Optional - for webhook processing)
# -----------------------------------------------------------------------------
ZOOM_CLIENT_ID=your-zoom-client-id
ZOOM_CLIENT_SECRET=your-zoom-client-secret
ZOOM_WEBHOOK_SECRET_TOKEN=your-zoom-webhook-secret

# -----------------------------------------------------------------------------
# Worker Settings
# -----------------------------------------------------------------------------
WORKER_POLL_INTERVAL_SECONDS=30
WORKER_BATCH_SIZE=5
WORKER_MAX_RETRIES=3
